(this.webpackJsonpbirdy=this.webpackJsonpbirdy||[]).push([[0],{38:function(e,t,a){e.exports=a(71)},43:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),c=a.n(r),s=a(4),i=(a(43),a(5)),o=a(6),m=a(8),u=a(7),d=a(9),p=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"header"},l.a.createElement("svg",{className:"header_logo",xmlns:"http://www.w3.org/2000/svg",width:"81.204",height:"51.425",viewBox:"0 0 81.204 51.425"},l.a.createElement("g",null,l.a.createElement("path",{d:"M70.827,9.821,53.648,29.349,31.6.2Z",transform:"translate(-17.57 -0.2)",fill:"#93d1db"}),l.a.createElement("path",{d:"M115.86,39l5.326,10.881L114.6,39.573Z",transform:"translate(-53.039 -16.781)",fill:"#fff"}),l.a.createElement("path",{d:"M46.3,83.334l4.066-8.7h0l2.52-.229Z",transform:"translate(-23.852 -31.908)",fill:"#fff"}),l.a.createElement("path",{d:"M77.109,17l8.3,13.171L92,40.479,46.3,58.8l6.586-8.934L61.361,38.36Z",transform:"translate(-23.852 -7.379)",fill:"#93d1db"}),l.a.createElement("path",{d:"M129.6,38.443l1.546-6.643-.744,6.643Z",transform:"translate(-59.449 -13.704)",fill:"#fff"}),l.a.createElement("path",{d:"M33.614,74.8l-4.066,8.7L7.1,77.32Z",transform:"translate(-7.1 -32.079)",fill:"#93d1db"}),l.a.createElement("path",{d:"M125.676,31.8l-1.546,6.643-2,8.361L116.8,35.923Z",transform:"translate(-53.979 -13.704)",fill:"#93d1db"}),l.a.createElement("path",{d:"M131.744,31.8l9.506,6.643H131Z",transform:"translate(-60.047 -13.704)",fill:"#93d1db"}),l.a.createElement("path",{d:"M87.28,17,71.532,38.36,70.1,36.528Z",transform:"translate(-34.022 -7.379)",fill:"#fff"}))),l.a.createElement("h1",{className:"header_title"},"Birdy")))}}]),t}(n.Component),h=a(20),E=a(3),f=a(18),g=a.n(f);f.initializeApp({apiKey:"AIzaSyBdYib7l53br7-6JoKl37FHaU96r9lp654",authDomain:"birdy-65482.firebaseapp.com",databaseURL:"https://birdy-65482.firebaseio.com",projectId:"birdy-65482",storageBucket:"birdy-65482.appspot.com",messagingSenderId:"375497846881",appId:"1:375497846881:web:1dc83a30a19f5ab4087a20"});var b=f,v=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(E.a)(c,2),i=s[0],o=s[1],m=Object(n.useRef)(""),u=Object(n.useRef)("");return Object(n.useEffect)((function(){b.auth().onAuthStateChanged((function(e){r(!!e)}))}),[]),!0===a?l.a.createElement(h.a,{to:"/home"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("div",{className:"form__container"},l.a.createElement("h2",{className:"title__login"},"Se connecter"),!0===i&&l.a.createElement("p",{className:"errors"},"Mail ou mot de passe incorrect !"),l.a.createElement("form",{action:"#",method:"POST",className:"form form__login",onSubmit:function(e){e.preventDefault();var t=m.current.value,a=u.current.value;b.auth().signInWithEmailAndPassword(t,a).then((function(){r(!0)})).catch((function(){r(!1),o(!0)}))}},l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"email"},"E-mail"),l.a.createElement("input",{className:"form__input",type:"email",name:"email",id:"email",ref:m})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"password"},"Mot de passe"),l.a.createElement("input",{className:"form__input",type:"password",name:"password",id:"password",ref:u})),l.a.createElement("div",{className:"form__control"},l.a.createElement("button",{type:"submit",className:"btn"},"Se connecter"))))))},_=function(){var e=Object(n.useRef)(""),t=Object(n.useRef)(""),a=Object(n.useRef)(""),r=Object(n.useRef)(""),c=Object(n.useState)(!1),s=Object(E.a)(c,2),i=s[0],o=s[1],m=Object(n.useState)(!1),u=Object(E.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),g=Object(E.a)(f,2),v=g[0],_=g[1],N=Object(n.useState)(!1),y=Object(E.a)(N,2),w=y[0],j=y[1],O=Object(n.useState)(!1),x=Object(E.a)(O,2),k=x[0],S=x[1],C=function(e,t,a,n){var l=e.user.uid;b.firestore().collection("users").doc(l).set({name:a,email:t,userId:n,userUid:l})};return Object(n.useEffect)((function(){b.auth().onAuthStateChanged((function(e){o(!!e)}))}),[]),!0===i?l.a.createElement(h.a,{to:"/home"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("div",{className:"form__container"},l.a.createElement("h2",{className:"title__login"},"S'inscrire"),!0===d&&l.a.createElement("p",{className:"errors"},"Tous les champs doivent \xeatre rempli"),l.a.createElement("form",{action:"#",method:"POST",className:"form form__login",onSubmit:function(n){n.preventDefault();var l=a.current.value,c=t.current.value,s=e.current.value,i=r.current.value;""===s||""===l||""===i||""===c?p(!0):b.auth().createUserWithEmailAndPassword(s,i).then((function(e){C(e,s,l,c),o(!0)})).catch((function(e){o(!1),"auth/invalid-email"===e.code&&_(!0),"auth/email-already-in-use"===e.code&&j(!0),"auth/weak-password"===e.code&&S(!0)}))}},l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"name"},"Nom"),l.a.createElement("input",{className:"form__input",type:"text",name:"name",id:"name",placeholder:"Jean Dupont",ref:a})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"userId"},"ID fourni par l'institut des Sciences Naturelles"),l.a.createElement("input",{className:"form__input",type:"text",name:"userId",id:"userId",placeholder:"123456789",ref:t})),l.a.createElement("div",{className:"form__control"},!0===v&&l.a.createElement("p",{className:"errors"},"Veuillez entrer une adresse mail valide"),!0===w&&l.a.createElement("p",{className:"errors"},"Il existe d\xe9ja un compte avec cet email"),l.a.createElement("label",{className:"form__label",htmlFor:"email"},"E-mail"),l.a.createElement("input",{className:"form__input",type:"email",name:"email",id:"email",placeholder:"exemple@email.com",ref:e})),l.a.createElement("div",{className:"form__control password__input"},!0===k&&l.a.createElement("p",{className:"errors"},"Le mot de passe doit avoir 6 caract\xe8res minimum"),l.a.createElement("label",{className:"form__label",htmlFor:"password"},"Mot de passe"),l.a.createElement("input",{className:"form__input",type:"password",name:"password",id:"password",ref:r}),l.a.createElement("button",{className:"show__pass",type:"button",onClick:function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"}},l.a.createElement("span",{className:"sro"},"Montrer le mot de passe"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#606a73",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye"},l.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"3"})))),l.a.createElement("div",{className:"form__control"},l.a.createElement("button",{type:"submit",className:"btn"},"S'inscrire"))))))},N=a(13),y=a.n(N),w=a(14),j=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"bouncing-loader"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))}}]),t}(n.Component),O=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(E.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)([]),d=Object(E.a)(u,2),p=d[0],f=d[1],g=b.auth().currentUser.uid;Object(n.useEffect)((function(){!function(){var e,t;y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=b.firestore(),a.next=3,y.a.awrap(e.collection("captures").where("userUid","==",g).limit(3).get());case 3:t=a.sent,r(t.docs.map((function(e){return Object(w.a)({},e.data(),{id:e.id})}))),e.collection("users").doc(g).get().then((function(e){m(e.data())})).catch((function(e){console.log("Error getting document",e)}));case 7:case"end":return a.stop()}}))}()}),[]);return b.auth().onAuthStateChanged((function(e){f(!!e)})),!1===p?l.a.createElement(h.a,{to:"/"}):null===a?l.a.createElement(j,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("div",{className:"home__container"},l.a.createElement("div",{className:"section__header"},l.a.createElement("h2",{className:"sro"},"Accueil"),l.a.createElement("p",{className:""},"Bonjour ",o.name,"\xa0!"),l.a.createElement("button",{className:"btn_disconnect",onClick:function(e){b.auth().signOut(),f(!1)}},l.a.createElement("svg",{className:"btn_disconnect_svg",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#4d4d4d",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.a.createElement("polyline",{points:"16 17 21 12 16 7"}),l.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"})))),l.a.createElement("section",{className:"list__container"},l.a.createElement("div",{className:"flex__container"},l.a.createElement("h3",null,"Derni\xe8res captures"),l.a.createElement(s.b,{className:"text--small",to:"/captures"},"Voir tout")),l.a.createElement("ul",{className:"list"},a.map((function(e){return l.a.createElement("li",{key:e.id,className:"list__item"},l.a.createElement(s.b,{to:{pathname:"/captures/"+e.id}},l.a.createElement("span",{className:"sro"},"Voir"),l.a.createElement("p",null,e.name)),l.a.createElement(s.b,{to:{pathname:"/edit/"+e.id},className:"icon"},l.a.createElement("span",{className:"sro"},"Modifier"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#606a73",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit-3"},l.a.createElement("path",{d:"M12 20h9"}),l.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))))})),0===a.length&&l.a.createElement("li",{className:"empty"},"Vous n'avez pas encore captur\xe9 d'oiseau\xa0! "))),l.a.createElement(s.b,{className:"text--small",to:{pathname:"/profil/"+o.userUid}},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),l.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))))))},x=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(E.a)(c,2),o=i[0],m=i[1],u=b.auth().currentUser.uid;return Object(n.useEffect)((function(){!function(){var e,t;y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=b.firestore(),a.next=3,y.a.awrap(e.collection("captures").where("userUid","==",u).get());case 3:t=a.sent,r(t.docs.map((function(e){return Object(w.a)({},e.data(),{id:e.id})})));case 5:case"end":return a.stop()}}))}()}),[]),b.auth().onAuthStateChanged((function(e){m(!!e)})),!1===o?l.a.createElement(h.a,{to:"/"}):null===a?l.a.createElement(j,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("div",null,l.a.createElement("h2",null,"Toutes mes captures"),l.a.createElement("ul",{className:"list"},a.map((function(e){return l.a.createElement("li",{key:e.id,className:"list__item"},l.a.createElement(s.b,{to:{pathname:"/captures/"+e.id}},l.a.createElement("span",{className:"sro"},"Voir"),l.a.createElement("p",null,e.name)),l.a.createElement(s.b,{to:{pathname:"/edit/"+e.id},className:"icon"},l.a.createElement("span",{className:"sro"},"Modifier"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#606a73",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit-3"},l.a.createElement("path",{d:"M12 20h9"}),l.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))))})),0===a.length&&l.a.createElement("li",{className:"empty"},"Vous n'avez pas encore captur\xe9 d'oiseau\xa0!")))))},k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={capture:{},id:"",loading:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("captures").doc(this.props.match.params.id).get().then((function(t){e.setState({capture:t.data(),id:t.id,loading:!0})}))}},{key:"render",value:function(){if(!1===this.state.loading)return l.a.createElement(j,null);var e=b.auth().currentUser;return e?l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("div",{className:"section__header"},l.a.createElement("h2",null,this.state.capture.name),e.uid===this.state.capture.userUid&&l.a.createElement(s.b,{to:"/edit/".concat(this.state.id),className:"btn__small"},"Modifier")),l.a.createElement("div",{className:"bird_info"},l.a.createElement("div",null,l.a.createElement("span",null,"Nom latin")," ",this.state.capture.latin),l.a.createElement("div",null,l.a.createElement("span",null,"Date de la capture")," ",this.state.capture.date),l.a.createElement("div",null,l.a.createElement("span",null,"Capture")," ",this.state.capture.type),l.a.createElement("div",null,l.a.createElement("span",null,"Num\xe9ro de bague")," ",this.state.capture.number),l.a.createElement("div",null,l.a.createElement("span",null,"Lieu de la capture")," ",this.state.capture.place)),l.a.createElement("div",{className:"box__container"},l.a.createElement("h3",null,"Caract\xe9ristiques"),l.a.createElement("div",{className:"grid__parent"},l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Poids"),l.a.createElement("div",{className:"outline"},this.state.capture.weight," g")),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Envergure"),l.a.createElement("div",{className:"outline"},this.state.capture.size," cm")),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Sexe"),l.a.createElement("div",{className:"outline"},this.state.capture.sexe)),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Adiposit\xe9"),l.a.createElement("div",{className:"outline"},this.state.capture.adiposity)),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"\xc2ge"),l.a.createElement("div",{className:"outline"},this.state.capture.age)))))):l.a.createElement(h.a,{to:"/"})}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={capture:{},reprise:"",latin:"",type:"",date:"",place:"",name:"",number:"",size:"",weight:"",adiposity:"",sexe:"",age:"",id:"",loading:!1,empty:!1,succes:!1,uid:b.auth().currentUser.uid},a.handleType=function(e){a.setState({type:e.target.value})},a.handleDate=function(e){a.setState({date:e.target.value})},a.handlePlace=function(e){a.setState({place:e.target.value})},a.handleName=function(e){a.setState({name:e.target.value})},a.handleLatin=function(e){a.setState({latin:e.target.value})},a.handleNum=function(e){a.setState({number:e.target.value})},a.handleReprise=function(e){a.setState({reprise:e.target.value})},a.handleSize=function(e){a.setState({size:e.target.value})},a.handleWeight=function(e){a.setState({weight:e.target.value})},a.handleAdiposity=function(e){a.setState({adiposity:e.target.value})},a.handleSexe=function(e){a.setState({sexe:e.target.value})},a.handleAge=function(e){a.setState({age:e.target.value})},a.saveChange=function(e){e.preventDefault(),""===a.state.reprise||""===a.state.type||""===a.state.date||""===a.state.place||""===a.state.name||""===a.state.latin||""===a.state.number||""===a.state.size||""===a.state.weight||""===a.state.adiposity||""===a.state.sexe||""===a.state.age?a.setState({empty:!0}):(a.setState({empty:!1}),b.firestore().collection("captures").doc(a.props.match.params.id).set({reprise:a.state.reprise,type:a.state.type,date:a.state.date,place:a.state.place,name:a.state.name,latin:a.state.latin,number:a.state.number,size:a.state.size,weight:a.state.weight,adiposity:a.state.adiposity,sexe:a.state.sexe,age:a.state.age,userUid:a.state.uid}),a.setState({succes:!0}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("captures").doc(this.props.match.params.id).get().then((function(t){e.setState({capture:t.data(),id:t.id,loading:!0});var a=e.state.capture.type;e.setState({type:a});var n=e.state.capture.reprise;e.setState({reprise:n});var l=e.state.capture.date;e.setState({date:l});var r=e.state.capture.place;e.setState({place:r});var c=e.state.capture.name;e.setState({name:c});var s=e.state.capture.latin;e.setState({latin:s});var i=e.state.capture.number;e.setState({number:i});var o=e.state.capture.size;e.setState({size:o});var m=e.state.capture.weight;e.setState({weight:m});var u=e.state.capture.adiposity;e.setState({adiposity:u});var d=e.state.capture.sexe;e.setState({sexe:d});var p=e.state.capture.age;e.setState({age:p})}))}},{key:"render",value:function(){return!0===this.state.succes?l.a.createElement(h.a,{to:{pathname:"/captures/"+this.props.match.params.id}}):!1===this.state.loading?l.a.createElement(j,null):this.state.uid===this.state.capture.userUid?l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("form",{action:"#",method:"POST",onSubmit:this.saveChange},l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"name"},"Nom de l'oiseau"),l.a.createElement("input",{onChange:this.handleName,className:"form__input",type:"text",name:"name",id:"name",defaultValue:this.state.capture.name})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"latin"},"Nom latin de l'oiseau"),l.a.createElement("input",{onChange:this.handleLatin,className:"form__input",type:"text",name:"latin",id:"latin",defaultValue:this.state.capture.latin})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"reprise"},"Reprise"),l.a.createElement("select",{className:"form__input",onChange:this.handleReprise,name:"reprise",id:"reprise",defaultValue:this.state.capture.reprise},l.a.createElement("option",{defaultValue:"oui"},"oui"),l.a.createElement("option",{defaultValue:"non"},"non"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"number"},"Num\xe9ro de bague"),l.a.createElement("input",{onChange:this.handleNum,className:"form__input",type:"text",id:"number",name:"number",defaultValue:this.state.capture.number})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"type"},"Comment a-t-il \xe9t\xe9 captur\xe9\xa0?"),l.a.createElement("select",{className:"form__input",onChange:this.handleType,name:"type",id:"type",defaultValue:this.state.capture.type},l.a.createElement("option",{defaultValue:"filet"},"Au filet"),l.a.createElement("option",{defaultValue:"nid"},"Au nid"),l.a.createElement("option",{defaultValue:"autre"},"Autre"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"date"},"Date de la capture"),l.a.createElement("input",{onChange:this.handleDate,className:"form__input",type:"date",id:"date",name:"date",defaultValue:this.state.capture.date})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"where"},"Lieu de la capture"),l.a.createElement("input",{onChange:this.handlePlace,className:"form__input",type:"text",id:"where",name:"where",defaultValue:this.state.capture.place})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"size"},"Longueur alaire"),l.a.createElement("div",{className:"form__control_small"},l.a.createElement("input",{onChange:this.handleSize,className:"form__input_small",type:"number",id:"size",name:"size",defaultValue:this.state.capture.size})," ",l.a.createElement("span",null,"cm"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"weight"},"Poids"),l.a.createElement("div",{className:"form__control_small"},l.a.createElement("input",{onChange:this.handleWeight,className:"form__input_small",type:"number",id:"weight",name:"weight",defaultValue:this.state.capture.weight})," ",l.a.createElement("span",null,"grammes"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"adiposity"},"Adiposit\xe9 de l'oiseau"),l.a.createElement("select",{className:"form__input",onChange:this.handleAdiposity,name:"adiposity",id:"adiposity",defaultValue:this.state.capture.adiposity},l.a.createElement("option",{defaultValue:"1"},"1"),l.a.createElement("option",{defaultValue:"2"},"2"),l.a.createElement("option",{defaultValue:"3"},"3"),l.a.createElement("option",{defaultValue:"4"},"4"),l.a.createElement("option",{defaultValue:"5"},"5"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"sexe"},"Femelle"),l.a.createElement("select",{className:"form__input",onChange:this.handleSexe,name:"sexe",id:"sexe",defaultValue:this.state.capture.sexe},l.a.createElement("option",{defaultValue:"m\xe2le"},"Male"),l.a.createElement("option",{defaultValue:"femelle"},"Femelle"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"age"},"\xc2ge de l'oiseau"),l.a.createElement("select",{className:"form__input",onChange:this.handleAge,name:"age",id:"age",defaultValue:this.state.capture.age},l.a.createElement("option",{defaultValue:"jeune"},"jeune"),l.a.createElement("option",{defaultValue:"adulte"},"adulte"))),!0===this.state.empty&&l.a.createElement("p",{className:"errors"},"Tous les champs doivent \xeatre remplis"),l.a.createElement("div",null,l.a.createElement("button",{className:"btn"},"Sauvegarder"))))):void 0}}]),t}(n.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"feedback"},l.a.createElement("div",{className:"feedback_svg"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 383 383"},l.a.createElement("defs",null,l.a.createElement("filter",{x:"0",y:"0",width:"383",height:"383",filterUnits:"userSpaceOnUse"},l.a.createElement("feOffset",{dy:"3",input:"SourceAlpha"}),l.a.createElement("feGaussianBlur",{stdDeviation:"5",result:"blur"}),l.a.createElement("feFlood",{floodColor:"#363636",floodOpacity:"0.149"}),l.a.createElement("feComposite",{operator:"in",in2:"blur"}),l.a.createElement("feComposite",{in:"SourceGraphic"})),l.a.createElement("filter",{id:"Ellipse_22",x:"11",y:"11",width:"362",height:"362",filterUnits:"userSpaceOnUse"},l.a.createElement("feOffset",{dy:"3",input:"SourceAlpha"}),l.a.createElement("feGaussianBlur",{stdDeviation:"5",result:"blur-2"}),l.a.createElement("feFlood",{floodColor:"#363636",floodOpacity:"0.149"}),l.a.createElement("feComposite",{operator:"in",in2:"blur-2"}),l.a.createElement("feComposite",{in:"SourceGraphic"}))),l.a.createElement("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",filter:"url(#Ellipse_23)"},l.a.createElement("circle",{cx:"176.5",cy:"176.5",r:"176.5",transform:"translate(15 12)",fill:"rgba(164,211,203,0.48)",opacity:"0.62"})),l.a.createElement("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",filter:"url(#Ellipse_22)"},l.a.createElement("circle",{cx:"166",cy:"166",r:"166",transform:"translate(26 23)",fill:"#188ea0"})),l.a.createElement("path",{d:"M10164.52-2516.806l79.729,85.728,132.837-137.837",transform:"translate(-10079.02 2688.415)",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"20"}))),l.a.createElement("div",{className:"feedback_text"},l.a.createElement("p",null,"L'oiseau a bien \xe9t\xe9 ajout\xe9 \xe0 votre liste d'oiseaux captur\xe9s\xa0!"),l.a.createElement("p",null,"Souhaitez-vous encoder un autre oiseau\xa0?")),l.a.createElement("div",{className:"feedback_link"},l.a.createElement(s.b,{className:"btn__outline",to:"/home"},"Retourner \xe0 la page d'accueil")))}}]),t}(n.Component),F=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(E.a)(c,2),i=s[0],o=s[1],m=Object(n.useState)(""),u=Object(E.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)(""),f=Object(E.a)(h,2),b=f[0],v=f[1],_=Object(n.useState)(""),N=Object(E.a)(_,2),y=N[0],w=N[1],j=Object(n.useState)(""),O=Object(E.a)(j,2),x=O[0],k=O[1],S=Object(n.useState)(""),F=Object(E.a)(S,2),L=F[0],M=F[1],A=Object(n.useState)(""),U=Object(E.a)(A,2),V=U[0],z=U[1],B=Object(n.useState)(""),W=Object(E.a)(B,2),D=W[0],P=W[1],T=Object(n.useState)(""),R=Object(E.a)(T,2),I=R[0],H=R[1],Q=Object(n.useState)(""),Z=Object(E.a)(Q,2),G=Z[0],J=Z[1],q=Object(n.useState)(""),K=Object(E.a)(q,2),Y=K[0],$=K[1],X=Object(n.useState)(0),ee=Object(E.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),le=Object(E.a)(ne,2),re=le[0],ce=le[1],se=Object(n.useState)(!1),ie=Object(E.a)(se,2),oe=ie[0],me=ie[1],ue=Object(n.useState)(!1),de=Object(E.a)(ue,2),pe=de[0],he=de[1],Ee=g.a.auth().currentUser.uid,fe=function(e){r(e.target.value)},ge=function(e){o(e.target.value)},be=function(e){H(e.target.value)},ve=function(e){J(e.target.value)},_e=function(e){$(e.target.value)};return!0===pe?l.a.createElement(C,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("h2",null,"Nouvelle capture"),l.a.createElement("form",{action:"#",method:"POST",onSubmit:function(e){e.preventDefault(),""===a||""===i||""===d||""===b||""===y||""===x||""===L||""===V||""===D||""===I||""===G||""===Y?me(!0):g.a.firestore().collection("captures").add({reprise:a,type:i,date:d,place:b,geopoint:new g.a.firestore.GeoPoint(te,re),name:y,latin:x,number:L,size:V,weight:D,adiposity:I,sexe:G,age:Y,userUid:Ee}).then((function(){he(!0)})).catch((function(e){he(!1),console.error("Error adding document: ",e)}))}},l.a.createElement("div",{className:"form__control"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Est-ce une reprise\xa0?"),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"repriseOui",name:"reprise",value:"oui",onChange:fe}),l.a.createElement("label",{htmlFor:"repriseOui"},"Oui")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"repriseNon",name:"reprise",value:"non",onChange:fe}),l.a.createElement("label",{htmlFor:"repriseNon"},"Non")))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"number"},"Quel est le num\xe9ro de bague\xa0?"),l.a.createElement("input",{onChange:function(e){return M(e.target.value)},className:"form__input",type:"text",id:"number",name:"number",placeholder:"F18 12 001 UOF U195"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Comment a-t-il \xe9t\xe9 captur\xe9\xa0?"),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"filet",name:"type",value:"filet",onChange:ge}),l.a.createElement("label",{htmlFor:"filet"},"Au filet")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"nid",name:"type",value:"nid",onChange:ge}),l.a.createElement("label",{htmlFor:"nid"},"Au nid")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"autre",name:"type",value:"autre",onChange:ge}),l.a.createElement("label",{htmlFor:"autre"},"Autre")))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"date"},"Quand a-t-il \xe9t\xe9 captur\xe9\xa0?"),l.a.createElement("input",{onChange:function(e){return p(e.target.value)},className:"form__input",type:"date",id:"date",name:"date"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"where"},"O\xf9 a-t-il \xe9t\xe9 captur\xe9\xa0?"),l.a.createElement("input",{onChange:function(e){return v(e.target.value)},className:"form__input",type:"text",id:"where",name:"where",placeholder:"Li\xe8ge"})),l.a.createElement("div",{className:"form__control form__control--flex"},l.a.createElement("label",{className:"",htmlFor:"longitude"},"Longitude\xa0:"),l.a.createElement("input",{onChange:function(e){var t=e.currentTarget;if(navigator.geolocation)navigator.geolocation.getCurrentPosition((function(e){t.value=Math.round(100*e.coords.longitude)/100,ce(e.coords.longitude)}));else{var a=t.value;ae(parseFloat(a))}},className:"form__input__small",type:"number",step:"0.01",min:"-180",max:"180",id:"longitude",name:"longitude",placeholder:"55.6"})),l.a.createElement("div",{className:"form__control form__control--flex"},l.a.createElement("label",{className:"",htmlFor:"latitude"},"Latitude\xa0:"),l.a.createElement("input",{onChange:function(e){var t=e.currentTarget;if(navigator.geolocation)navigator.geolocation.getCurrentPosition((function(e){t.value=Math.round(100*e.coords.latitude)/100,ae(e.coords.latitude)}));else{var a=t.value;ae(parseFloat(a))}},className:"form__input__small",type:"number",step:"0.01",min:"-90",max:"90",id:"latitude",name:"latitude",placeholder:"4.56"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"birdName"},"De quel oiseaux s'agit-il\xa0?"),l.a.createElement("input",{onChange:function(e){return w(e.target.value)},className:"form__input",type:"text",id:"birdName",name:"birdName",placeholder:"Rouge gorge"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"latinName"},"Quel est le nom latin de l'oiseaux\xa0?"),l.a.createElement("input",{onChange:function(e){return k(e.target.value)},className:"form__input",type:"text",id:"latinName",name:"latinName",placeholder:"nom latin"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"size"},"Longueur alaire"),l.a.createElement("div",{className:"form__control_small"},l.a.createElement("input",{onChange:function(e){return z(e.target.value)},className:"form__input_small",type:"number",id:"size",name:"size",placeholder:"20"})," ",l.a.createElement("span",null,"cm"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"weight"},"Poids"),l.a.createElement("div",{className:"form__control_small"},l.a.createElement("input",{onChange:function(e){return P(e.target.value)},className:"form__input_small",type:"number",id:"weight",name:"weight",placeholder:"19"})," ",l.a.createElement("span",null,"grammes"))),l.a.createElement("div",{className:"form__control"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"quel est l'adiposit\xe9 de l'oiseaux\xa0?"),l.a.createElement("div",{className:"form__inline"},l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"one",name:"adiposity",value:"1",onChange:be}),l.a.createElement("label",{htmlFor:"one"},"1")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"two",name:"adiposity",value:"2",onChange:be}),l.a.createElement("label",{htmlFor:"two"},"2")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"three",name:"adiposity",value:"3",onChange:be}),l.a.createElement("label",{htmlFor:"three"},"3")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"four",name:"adiposity",value:"4",onChange:be}),l.a.createElement("label",{htmlFor:"four"},"4")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"five",name:"adiposity",value:"5",onChange:be}),l.a.createElement("label",{htmlFor:"five"},"5"))))),l.a.createElement("div",{className:"form__control"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Quel est le sexe de l'oiseau\xa0?"),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"female",name:"sexe",value:"femelle",onChange:ve}),l.a.createElement("label",{htmlFor:"female"},"Femelle")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"male",name:"sexe",value:"m\xe2le",onChange:ve}),l.a.createElement("label",{htmlFor:"male"},"M\xe2le")))),l.a.createElement("div",{className:"form__control"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Quel est l'\xe2ge de l'oiseau\xa0?"),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"jeune",name:"age",value:"jeune",onChange:_e}),l.a.createElement("label",{htmlFor:"jeune"},"Jeune")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"adulte",name:"age",value:"adulte",onChange:_e}),l.a.createElement("label",{htmlFor:"adulte"},"Adulte")))),!0===oe&&l.a.createElement("p",{className:"errors"},"Tous les champs doivent \xeatre remplis"),l.a.createElement("div",{className:"form__control"},l.a.createElement("button",{className:"btn"},"Enregistrer")))))},L=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(E.a)(c,2),o=i[0],m=i[1];return Object(n.useEffect)((function(){!function(){var e,t;y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=b.firestore(),a.next=3,y.a.awrap(e.collection("encyclopedia").get());case 3:t=a.sent,r(t.docs.map((function(e){return Object(w.a)({},e.data(),{id:e.id})})));case 5:case"end":return a.stop()}}))}()}),[]),b.auth().onAuthStateChanged((function(e){m(!!e)})),b.storage().ref().child("bird.jpg").getDownloadURL().then((function(e){for(var t=document.getElementsByClassName("bird-image"),a=0;a<t.length;a++)t[a].src=e})),!1===o?l.a.createElement(h.a,{to:"/"}):null===a?l.a.createElement(j,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("h2",null,"Encyclop\xe9die"),l.a.createElement("ul",{className:"list"},a.map((function(e){return l.a.createElement("li",{key:e.id,className:"list__item encyclopedia__list"},l.a.createElement(s.b,{to:{pathname:"/encyclopedia/"+e.id},className:"link_over"},l.a.createElement("span",{className:"sro"},"Voir")),l.a.createElement("img",{src:"",className:"bird-image encyclopedia__img",width:"90px",height:"90px",alt:e.name}),l.a.createElement("p",null,e.name))})))))},M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={bird:{},id:"",loading:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("encyclopedia").doc(this.props.match.params.id).get().then((function(t){e.setState({bird:t.data(),id:t.id,loading:!0})}))}},{key:"render",value:function(){return!1===this.state.loading?l.a.createElement(j,null):(b.storage().ref().child("bird.jpg").getDownloadURL().then((function(e){console.log(e),document.getElementById("bird_img").src=e})),b.storage().ref().child("10632.mp3").getDownloadURL().then((function(e){console.log(e),document.getElementById("audio").src=e})),b.auth().currentUser?l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("img",{id:"bird_img",className:"single__bird__img",width:"300px",alt:this.state.bird.name}),l.a.createElement("div",{className:"box__container"},l.a.createElement("h2",{className:"title__bird title__centered"},this.state.bird.name),l.a.createElement("p",{className:"latin__name__bird"},this.state.bird.latin),l.a.createElement("h3",{className:"section_subtitle"},"Description"),l.a.createElement("p",null,this.state.bird.description)),l.a.createElement("div",{className:"box__container"},l.a.createElement("h3",{className:"section_subtitle"},"Caract\xe9ristiques"),l.a.createElement("div",{className:"grid__parent"},l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Poids"),l.a.createElement("div",{className:"outline"},this.state.bird.weight," g")),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Taille"),l.a.createElement("div",{className:"outline"},this.state.bird.heigth," cm")),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Envergure"),l.a.createElement("div",{className:"outline"},this.state.bird.size," cm")),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Ordre"),l.a.createElement("div",{className:"outline"},this.state.bird.order)),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Famille"),l.a.createElement("div",{className:"outline"},this.state.bird.family)),l.a.createElement("div",{className:"grid__child"},l.a.createElement("span",{className:"block"},"Esp\xe8ce"),l.a.createElement("div",{className:"outline"},this.state.bird.species)))),l.a.createElement("div",{className:"box__container"},l.a.createElement("h3",{className:"section_subtitle"},"Nidification"),l.a.createElement("p",null,this.state.bird.nidification)),l.a.createElement("div",{className:"box__container"},l.a.createElement("h3",{className:"section_subtitle"},"Alimentation"),l.a.createElement("p",null,this.state.bird.food)),l.a.createElement("div",{className:"box__container"},l.a.createElement("h3",{className:"section_subtitle"},"Habitat"),l.a.createElement("p",null,this.state.bird.living)),l.a.createElement("div",{className:"box__container"},l.a.createElement("audio",{controls:!0,id:"audio"},"Your browser does not support the",l.a.createElement("code",null,"audio")," element.")))):l.a.createElement(h.a,{to:"/"}))}}]),t}(n.Component),A=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(E.a)(c,2),o=i[0],m=i[1];return Object(n.useEffect)((function(){!function(){var e,t;y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=b.firestore(),a.next=3,y.a.awrap(e.collection("users").get());case 3:t=a.sent,r(t.docs.map((function(e){return Object(w.a)({},e.data(),{id:e.id})})));case 5:case"end":return a.stop()}}))}()}),[]),b.auth().onAuthStateChanged((function(e){m(!!e)})),!1===o?l.a.createElement(h.a,{to:"/"}):null===a?l.a.createElement(j,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("h2",null,"Tous les utilisateurs"),l.a.createElement("ul",{className:"list"},a.map((function(e){return l.a.createElement("li",{key:e.id,className:"list__item"},l.a.createElement(s.b,{to:{pathname:"/users/"+e.id},className:"link_over"},l.a.createElement("span",{className:"sro"},"Voir")),l.a.createElement("p",null,e.name))})))))},U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:{},birds:[],sites:[],id:"",loading:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("users").doc(this.props.match.params.id).get().then((function(t){e.setState({user:t.data(),id:t.id,loading:!0})})),b.firestore().collection("captures").where("userUid","==",this.props.match.params.id).get().then((function(t){e.setState({birds:t.docs.map((function(e){return Object(w.a)({},e.data(),{id:e.id})}))})})),b.firestore().collection("sites").where("userUid","==",this.props.match.params.id).get().then((function(t){e.setState({sites:t.docs.map((function(e){return Object(w.a)({},e.data(),{id:e.id})}))})}))}},{key:"render",value:function(){var e=this.state,t=e.birds,a=e.sites,n=e.user;return!1===this.state.loading?l.a.createElement(j,null):b.auth().currentUser?l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("div",null,l.a.createElement("h2",null,n.name),l.a.createElement("p",null,n.userId)),l.a.createElement("h3",{className:"section_subtitle"},"Tout les captures de ",n.name),l.a.createElement("ul",{className:"list"},t.map((function(e){return l.a.createElement("li",{key:e.id,className:"list__item"},l.a.createElement(s.b,{to:{pathname:"/captures/"+e.id}},l.a.createElement("span",{className:"sro"},"Voir"),l.a.createElement("p",null,e.name)),l.a.createElement(s.b,{to:{pathname:"/captures/"+e.id},className:"icon"},l.a.createElement("span",{className:"sro"},"Modifier"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#606a73",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye"},l.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))))})),0===t.length&&l.a.createElement("div",null,this.state.user.name," n'a pas encore captur\xe9 d'oiseau\xa0! ")),l.a.createElement("h3",{className:"section_subtitle"},"Tout les sites de ",n.name),l.a.createElement("ul",{className:"list"},a.map((function(e){return l.a.createElement("li",{key:e.id,className:"list__item"},l.a.createElement("p",null,e.name),l.a.createElement("ul",{className:"text--right"},l.a.createElement("li",null,"latitude\xa0: ",e.geopoint.latitude),l.a.createElement("li",null,"longitude\xa0: ",e.geopoint.longitude),l.a.createElement("li",null,e.superficie," km")))})),0===a.length&&l.a.createElement("div",null,n.name," n'a pas encore ajouter de site\xa0! ")))):l.a.createElement(h.a,{to:"/"})}}]),t}(n.Component),V=a(27),z=Object(V.GoogleApiWrapper)({apiKey:"AIzaSyDaH6M1rje-2oIlFkjlJ5QC4pAb79uEb3o"})((function(e){var t=Object(n.useState)(null),a=Object(E.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),o=Object(E.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(null),p=Object(E.a)(d,2),f=p[0],g=p[1],v=Object(n.useState)([]),_=Object(E.a)(v,2),N=_[0],O=_[1];return Object(n.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){g(e.coords.latitude),u(e.coords.longitude)})):alert("Geolocation is not supported by this browser.");!function(){var e,t;y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=b.firestore(),a.next=3,y.a.awrap(e.collection("sites").get());case 3:t=a.sent,c(t.docs.map((function(e){return Object(w.a)({},e.data(),{id:e.id})})));case 5:case"end":return a.stop()}}))}()}),[]),b.auth().onAuthStateChanged((function(e){O(!!e)})),!1===N?l.a.createElement(h.a,{to:"/"}):null===r?l.a.createElement(j,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("div",null,l.a.createElement("div",{className:"section__header"},l.a.createElement("h2",null,"Sites de baguage"),l.a.createElement(s.b,{className:"btn__small",to:"/createSite"},"Nouveau site")),l.a.createElement("div",{className:"map",style:{height:"60vh",width:"100%"}},l.a.createElement(V.Map,{google:e.google,style:{borderRadius:"5px"},zoom:8,initialCenter:{lat:f,lng:m}},r.map((function(e){return l.a.createElement(V.Marker,{position:{lat:e.geopoint.latitude,lng:e.geopoint.longitude}})})))))))})),B=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(0),s=Object(E.a)(c,2),i=s[0],o=s[1],m=Object(n.useState)(0),u=Object(E.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(""),b=Object(E.a)(f,2),v=b[0],_=b[1],N=Object(n.useState)(!1),y=Object(E.a)(N,2),w=y[0],j=y[1],O=Object(n.useState)(!1),x=Object(E.a)(O,2),k=x[0],S=x[1],C=g.a.auth().currentUser.uid;return!0===k?l.a.createElement(h.a,{to:"/sites"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("h2",null,"Cr\xe9er un nouveau site"),l.a.createElement("form",{action:"#",method:"POST",onSubmit:function(e){e.preventDefault(),""===a||""===d||""===i||""===v?j(!0):g.a.firestore().collection("sites").add({name:a,geopoint:new g.a.firestore.GeoPoint(i,d),superficie:v,userUid:C}).then((function(){S(!0)})).catch((function(e){S(!1),console.error("Error adding document: ",e)}))}},!0===w&&l.a.createElement("p",{className:"errors"},"Tous les champs doivent \xeatre rempli"),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"name"},"Quel est le nom du site\xa0?"),l.a.createElement("input",{onChange:function(e){return r(e.target.value)},className:"form__input",type:"text",id:"name",name:"name",placeholder:"Li\xe8ge"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"longitude"},"Quelle est la longitude\xa0?"),l.a.createElement("input",{onChange:function(e){var t=e.currentTarget;if(navigator.geolocation)navigator.geolocation.getCurrentPosition((function(e){t.value=Math.round(100*e.coords.longitude)/100,p(e.coords.longitude)}));else{var a=t.value;o(parseFloat(a))}},className:"form__input",type:"number",step:"0.01",min:"-180",max:"180",id:"longitude",name:"longitude",placeholder:"55.6"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"latitude"},"Quelle est la latitude\xa0?"),l.a.createElement("input",{onChange:function(e){var t=e.currentTarget;if(navigator.geolocation)navigator.geolocation.getCurrentPosition((function(e){t.value=Math.round(100*e.coords.latitude)/100,o(e.coords.latitude)}));else{var a=t.value;o(parseFloat(a))}},className:"form__input",type:"number",step:"0.01",min:"-90",max:"90",id:"latitude",name:"latitude",placeholder:"6.56"})),l.a.createElement("div",{className:"form__control"},l.a.createElement("label",{className:"form__label",htmlFor:"superficie"},"Quelle est la superficie\xa0? (en Km)"),l.a.createElement("input",{onChange:function(e){return _(e.target.value)},className:"form__input",type:"number",id:"superficie",name:"superficie",placeholder:"10"})),l.a.createElement("div",{className:""},l.a.createElement("button",{className:"btn"},"Enregistrer")))))},W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",loading:!1,emailEmpty:!1,passEmpty:!1,succes:!1,pass:!1,currentUser:b.auth().currentUser},a.mail=function(e){a.setState({email:e.target.value})},a.password=function(e){a.setState({password:e.target.value})},a.updateEmail=function(e){e.preventDefault();var t=a.state.email;""===t?a.setState({emailEmpty:!0}):b.auth().currentUser.updateEmail(t).then((function(){b.firestore().collection("users").doc(b.auth().currentUser.uid).update({email:t}),console.log(b.auth().currentUser.email)})).catch((function(e){console.log(e)}))},a.updatePassword=function(e){e.preventDefault();var t=a.state.password;""===t?a.setState({passEmpty:!0}):b.auth().currentUser.updatePassword(t).then((function(){console.log("ok")})).catch((function(e){console.log(e)}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",null,l.a.createElement("h2",{className:"sro"},"Mon profil"),l.a.createElement("h3",{className:"title__login"},"Modifier mon adresse email"),!0===this.state.emailEmpty&&l.a.createElement("p",{className:"errors"},"Le champs doit \xeatre rempli"),l.a.createElement("form",{action:"",method:"get",onSubmit:this.updateEmail},l.a.createElement("input",{className:"form__input__small",type:"email",defaultValue:this.state.currentUser.email,onChange:this.mail}),l.a.createElement("button",{className:"btn__mid",type:"submit"},"Changer")),l.a.createElement("h3",{className:"title__login"},"Modifier mon mot de passe"),l.a.createElement("form",{action:"",method:"get",onSubmit:this.updatePassword},!0===this.state.pass&&l.a.createElement("p",{className:"errors"},"Le mot de passe doit avoir 6 caract\xe8res minimum"),!0===this.state.passEmpty&&l.a.createElement("p",{className:"errors"},"Le champs doit \xeatre rempli"),l.a.createElement("input",{className:"form__input__small",type:"password",onChange:this.password}),l.a.createElement("button",{className:"btn__mid",type:"submit"},"Changer"))))}}]),t}(n.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(h.d,null,l.a.createElement(h.b,{exact:!0,path:"/",component:v}),l.a.createElement(h.b,{path:"/register",component:_}),l.a.createElement(h.b,{path:"/profil/:id",component:W}),l.a.createElement(h.b,{path:"/encyclopedia/:id",component:M}),l.a.createElement(h.b,{path:"/users/:id",component:U}),l.a.createElement(h.b,{path:"/captures/:id",component:k}),l.a.createElement(h.b,{path:"/edit/:id",component:S}),l.a.createElement(h.b,{path:"/sites",component:z}),l.a.createElement(h.b,{path:"/createSite",component:B}),l.a.createElement(h.b,{path:"/home",component:O}),l.a.createElement(h.b,{path:"/captures",component:x}),l.a.createElement(h.b,{path:"/new",component:F}),l.a.createElement(h.b,{path:"/encyclopedia",component:L}),l.a.createElement(h.b,{path:"/users",component:A}))}}]),t}(l.a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"/"===this.props.location.pathname?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"centered"},l.a.createElement(s.b,{to:"/register",className:"login__link"},"S'inscrire"))):"/register"===this.props.location.pathname?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"centered"},l.a.createElement(s.b,{to:"/",className:"login__link"},"Se connecter"))):"/new"===this.props.location.pathname?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"nav__container"},l.a.createElement("div",{className:"nav"},l.a.createElement(s.b,{to:"/home",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),l.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))),l.a.createElement(s.b,{to:"/captures",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),l.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),l.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),l.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),l.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),l.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))),l.a.createElement(s.b,{to:"/sites",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),l.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),l.a.createElement("line",{x1:"16",y1:"6",x2:"16",y2:"22"}))),l.a.createElement(s.b,{to:"/encyclopedia",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),l.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))),l.a.createElement(s.b,{to:"/users",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),l.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"nav__container"},l.a.createElement("div",{className:"nav"},l.a.createElement(s.b,{to:"/home",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),l.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))),l.a.createElement(s.b,{to:"/captures",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),l.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),l.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),l.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),l.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),l.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))),l.a.createElement(s.b,{to:"/sites",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),l.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),l.a.createElement("line",{x1:"16",y1:"6",x2:"16",y2:"22"}))),l.a.createElement(s.b,{to:"/encyclopedia",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),l.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))),l.a.createElement(s.b,{to:"/users",className:"nav__link"},l.a.createElement("svg",{className:"nav__link--svg",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),l.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})))),l.a.createElement(s.b,{to:"/new",className:"nav__link--bg"},l.a.createElement("svg",{className:"",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})))))}}]),t}(n.Component),T=Object(h.g)(P),R=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p,null),l.a.createElement("main",{className:"main"},l.a.createElement(D,null)),l.a.createElement(T,null))}}]),t}(n.Component),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(l.a.createElement(s.a,null,l.a.createElement(R,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");I?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):H(t,e)}))}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.19c38e67.chunk.js.map